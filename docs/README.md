## 프로그램의 목표
잔돈 금액과 상품 등록이 가능하고, 투입 금액을 설정한 다음 돈을 반환하는 자판기를 등록한다 

## 관련 조건 
자판기가 보유하고 있는 금액으로 동전을 무작위로 생성한다.
투입 금액으로는 동전을 생성하지 않는다.
잔돈을 돌려줄 때 현재 보유한 최소 개수의 동전으로 잔돈을 돌려준다.
지폐를 잔돈으로 반환하는 경우는 없다고 가정한다.
상품명, 가격, 수량을 입력하여 상품을 추가할 수 있다.
상품 가격은 100원부터 시작하며, 10원으로 나누어떨어져야 한다.
사용자가 투입한 금액으로 상품을 구매할 수 있다.
남은 금액이 상품의 최저 가격보다 적거나, 모든 상품이 소진된 경우 바로 잔돈을 돌려준다.
잔돈을 반환할 수 없는 경우 잔돈으로 반환할 수 있는 금액만 반환한다.
반환되지 않은 금액은 자판기에 남는다.
사용자가 잘못된 값을 입력할 경우 IllegalArgumentException를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 해당 부분부터 다시 입력을 받는다.
아래의 프로그래밍 실행 결과 예시와 동일하게 입력과 출력이 이루어져야 한다.

## 테스트 해야 하는 구간은
인터페이스를 적극적으로 도입해야 한다 

## 단위 테스트 작성 
1. 자판기는 잔돈 금액을 설정할 수 있다 
   - 500, 100, 50, 10원으로 랜덤으로 잔돈 금액을 생성할 수 있다 (테스트 할 때 내가 직접 값을 생성할 수 있는지 - Interface)
     - 잔돈 금액의 최소는 0원이며 10원 단위로 구성할 수 있다
   - Random 값 추출은 camp.nextstep.edu.missionutils.Randoms의 pickNumberInList()를 활용한다.
   - 투입 금액을 받아 추가적으로 잔돈 금액을 생성할 수 **없다**
   
2. 자판기는 상품 등록이 가능하다
   - 상품은 "[상품명, 가격, 수량]" 형태로 등록할 수 있다
   - 복수의 상품을 등록하려면 각각의 상품 정보 사이에 ';' 구분자를 추가하여 등록할 수 있다
     - 이 때 상품의 가격은 최소 100원이며, 10원 단위여야 한다
   - **상품명, 가격은 고정 하지만 수량은 변할 수 있다** 

---

---
4. 투입 금액을 **입력**할 수 있다 

5. 구매하려는 상품을 **입력**할 수 있다 
   - [x] 단일 상품만 입력한다 (Request) + 빈 정보 안 된다 
   - [x] 자판기에 등록되어 있는 상품이여야 한다 (자판기 정보가 필요하다)
     - 등록되지 않은 상품이라면 다시 입력을 받는다 
   - [x] 남아있는 상품이여야 한다
     - 다 팔린 상품을 구매할 수 없다 
     
6. 구매자는 투입 금액 (=남은 투입 금액), 그리고 구매하려는 상품을 관리한다
   - [x] **투입 금액은 변한다**
   - [x] **구매하려는 상품도 변한다**
   - [x] 구매하려는 상품은 RegisteredProduct 이다 (VendingMachine 통해서 조회한다)
     - 구매가 가능한지를 검증한다
     - 투입 금액(=남은 투입 금액) >= 구매하려는 상품의 가격 ( 구매하려는 상품 정보가 필요하다 )
     - 투입 금액이 더 작은 경우 구매하려는 상품을 다시 입력받아야 한다
   
---

7. 자판기는 거래를 진행한다
   - 자판기는 거래가 가능한지를 확인한다 (Vending, Client)
     
   - 구매하려는 상품을 추출한다 : 최종적으로 RegisteredProduct 정보를 조회한다
     - Client의 PurchaseProduct 정보를 요청한다
     - PurchaseProduct 정보를 활용해서 VendingMachine 내 RegisteredProduct를 조회한다 
       - VendingProducts에 요청한다
       - VendingProducts 내부에서 RegisteredProduct를 반환한다 
   
   - 상품의 구매가 발생한다 - Registeredproduct <--> VendingMachine / RegisteredProduct <--> Client
     - 자판기는 해당 상품의 수량을 차감한다 
     - 고객은 고객의 투입 금액을 상품의 가격만큼 차감한다 
     
   - 상품 구매가 불가능하다면 (판매를 중지해야 한다면) 잔돈을 반환한다 
     - 잔돈으로 반환할 수 있는 금액만 반환한다.
     - 반환되는 동전의 개수를 최소한으로 설정한다 (= 큰 단위의 동전부터 우선적으로 반환한다)
     - 반환되지 못하는 금액은 자판기에 그대로 남는다

8. 아래의 조건을 만족하는 경우 판매를 중지한다 (거래가 가능한지를 확인한다)
   - 남은 고객의 구입 금액이 상품의 최저 가격보다 적은 경우
   - 모든 상품이 소진된 경우 잔돈을 돌려준다 (= 자판기는 상품의 소진 여부를 확인할 수 있어야 한다)
